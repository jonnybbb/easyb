CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
create table conclusion (id bigint generated by default as identity (start with 1), version bigint not null, code varchar(255), scenario_id bigint not null, sort_order integer not null, text varchar(255) not null, primary key (id))
create table condition (id bigint generated by default as identity (start with 1), version bigint not null, code varchar(255), scenario_id bigint not null, sort_order integer not null, text varchar(255) not null, primary key (id))
create table given (id bigint generated by default as identity (start with 1), version bigint not null, code varchar(255), scenario_id bigint not null, sort_order integer not null, text varchar(255) not null, primary key (id))
create table role (id bigint generated by default as identity (start with 1), version bigint not null, primary key (id))
create table scenario (id bigint generated by default as identity (start with 1), version bigint not null, description varchar(255), imports varchar(255), set_up varchar(255), story_id bigint not null, tear_down varchar(255), title varchar(255) not null, primary key (id), unique (title))
create table script (id bigint generated by default as identity (start with 1), version bigint not null, code varchar(255) not null, title varchar(255) not null, type varchar(7) not null, primary key (id))
create table story (id bigint generated by default as identity (start with 1), version bigint not null, description varchar(255) not null, title varchar(255) not null, user_id bigint not null, primary key (id))
create table story_script (story_scripts_id bigint, script_id bigint)
create table user (id bigint generated by default as identity (start with 1), version bigint not null, name varchar(64) not null, password varchar(255) not null, password_confirmation varchar(255) not null, role varchar(9) not null, primary key (id), unique (name))
alter table conclusion add constraint FK98CF121F26446BDA foreign key (scenario_id) references scenario
alter table condition add constraint FKCCA96D1B26446BDA foreign key (scenario_id) references scenario
alter table given add constraint FK5DCF77D26446BDA foreign key (scenario_id) references scenario
alter table scenario add constraint FKD1C573906B2AE17A foreign key (story_id) references story
alter table story add constraint FK68AF8F5F7634DFA foreign key (user_id) references user
alter table story_script add constraint FK6383C755A230A5FA foreign key (script_id) references script
alter table story_script add constraint FK6383C755E7F3D611 foreign key (story_scripts_id) references story
INSERT INTO USER VALUES(1,0,'jb','jb','jb','admin')
INSERT INTO STORY VALUES(1,0,'','Test Story A',1)
INSERT INTO SCENARIO VALUES(1,0,NULL,NULL,NULL,1,NULL,'Test Scenario A')
INSERT INTO CONCLUSION VALUES(1,0,NULL,1,0,'test then 5')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,1,NULL,NULL,NULL,1,NULL,'Test Scenario A')
INSERT INTO CONCLUSION VALUES(2,0,NULL,1,0,'test then 5')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,2,NULL,NULL,NULL,1,NULL,'Test Scenario A')
DELETE FROM CONCLUSION WHERE ID=2
DELETE FROM CONCLUSION WHERE ID=1
INSERT INTO CONCLUSION VALUES(3,0,NULL,1,0,'test tehn 5')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,3,NULL,NULL,NULL,1,NULL,'Test Scenario A')
INSERT INTO CONCLUSION VALUES(4,0,NULL,1,0,'test tehn 5')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,4,NULL,NULL,NULL,1,NULL,'Test Scenario A')
DELETE FROM CONCLUSION WHERE ID=4
DELETE FROM CONCLUSION WHERE ID=3
INSERT INTO CONCLUSION VALUES(5,0,NULL,1,0,'test then 6')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,5,NULL,NULL,NULL,1,NULL,'Test Scenario A')
INSERT INTO CONCLUSION VALUES(6,0,NULL,1,0,'test then 6')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,6,NULL,NULL,NULL,1,NULL,'Test Scenario A')
DELETE FROM CONCLUSION WHERE ID=6
DELETE FROM CONCLUSION WHERE ID=5
INSERT INTO CONCLUSION VALUES(7,0,NULL,1,0,'test then 7')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,7,NULL,NULL,NULL,1,NULL,'Test Scenario A')
INSERT INTO CONCLUSION VALUES(8,0,NULL,1,0,'test then 7')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,8,NULL,NULL,NULL,1,NULL,'Test Scenario A')
DELETE FROM CONCLUSION WHERE ID=7
DELETE FROM CONCLUSION WHERE ID=8
INSERT INTO CONCLUSION VALUES(9,0,NULL,1,0,'test then 8')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,9,NULL,NULL,NULL,1,NULL,'Test Scenario A')
INSERT INTO CONCLUSION VALUES(10,0,NULL,1,0,'test then 8')
DELETE FROM SCENARIO WHERE ID=1
INSERT INTO SCENARIO VALUES(1,10,NULL,NULL,NULL,1,NULL,'Test Scenario A')
DELETE FROM CONCLUSION WHERE ID=9
DELETE FROM CONCLUSION WHERE ID=10
INSERT INTO CONCLUSION VALUES(10,1,'asdfasdf',1,0,'test then 8')
DELETE FROM CONCLUSION WHERE ID=10
INSERT INTO CONCLUSION VALUES(10,2,'asdfasdfasdfasdfads',1,0,'test then 8')
